-- Создание тестовых пользователей для системы

-- ВАЖНО: Эти пользователи должны быть созданы через Supabase Auth
-- Данный скрипт только создает профили после регистрации пользователей

-- Тестовые профили пользователей
-- Пароль для всех тестовых пользователей: TestPass123!

INSERT INTO public.profiles (id, full_name, role, phone, specialization, license_number, is_active) VALUES
-- Администратор
('11111111-1111-1111-1111-111111111111', 'Администратор Системы', 'admin', '+7-900-000-00-01', NULL, NULL, true),

-- Ветеринары
('22222222-2222-2222-2222-222222222222', 'Доктор Иванова Мария Петровна', 'veterinarian', '+7-900-000-00-02', 'Терапевт', 'ВЕТ-12345', true),
('33333333-3333-3333-3333-333333333333', 'Доктор Петров Алексей Сергеевич', 'veterinarian', '+7-900-000-00-03', 'Хирург', 'ВЕТ-67890', true),
('44444444-4444-4444-4444-444444444444', 'Доктор Сидорова Елена Владимировна', 'veterinarian', '+7-900-000-00-04', 'Дерматолог', 'ВЕТ-11111', true),

-- Регистраторы
('55555555-5555-5555-5555-555555555555', 'Регистратор Козлова Анна Дмитриевна', 'receptionist', '+7-900-000-00-05', NULL, NULL, true),
('66666666-6666-6666-6666-666666666666', 'Регистратор Морозова Ольга Игоревна', 'receptionist', '+7-900-000-00-06', NULL, NULL, true)

ON CONFLICT (id) DO UPDATE SET
  full_name = EXCLUDED.full_name,
  role = EXCLUDED.role,
  phone = EXCLUDED.phone,
  specialization = EXCLUDED.specialization,
  license_number = EXCLUDED.license_number,
  is_active = EXCLUDED.is_active;

-- Добавление рабочих часов для ветеринаров
INSERT INTO public.veterinarian_schedules (veterinarian_id, day_of_week, start_time, end_time, is_working) VALUES
-- Доктор Иванова (пн-пт 9:00-18:00)
('22222222-2222-2222-2222-222222222222', 1, '09:00', '18:00', true),
('22222222-2222-2222-2222-222222222222', 2, '09:00', '18:00', true),
('22222222-2222-2222-2222-222222222222', 3, '09:00', '18:00', true),
('22222222-2222-2222-2222-222222222222', 4, '09:00', '18:00', true),
('22222222-2222-2222-2222-222222222222', 5, '09:00', '18:00', true),
('22222222-2222-2222-2222-222222222222', 6, '09:00', '18:00', false),
('22222222-2222-2222-2222-222222222222', 0, '09:00', '18:00', false),

-- Доктор Петров (вт-сб 10:00-19:00)
('33333333-3333-3333-3333-333333333333', 2, '10:00', '19:00', true),
('33333333-3333-3333-3333-333333333333', 3, '10:00', '19:00', true),
('33333333-3333-3333-3333-333333333333', 4, '10:00', '19:00', true),
('33333333-3333-3333-3333-333333333333', 5, '10:00', '19:00', true),
('33333333-3333-3333-3333-333333333333', 6, '10:00', '19:00', true),
('33333333-3333-3333-3333-333333333333', 0, '10:00', '19:00', false),
('33333333-3333-3333-3333-333333333333', 1, '10:00', '19:00', false),

-- Доктор Сидорова (пн-ср, пт 8:00-16:00)
('44444444-4444-4444-4444-444444444444', 1, '08:00', '16:00', true),
('44444444-4444-4444-4444-444444444444', 2, '08:00', '16:00', true),
('44444444-4444-4444-4444-444444444444', 3, '08:00', '16:00', true),
('44444444-4444-4444-4444-444444444444', 4, '08:00', '16:00', false),
('44444444-4444-4444-4444-444444444444', 5, '08:00', '16:00', true),
('44444444-4444-4444-4444-444444444444', 6, '08:00', '16:00', false),
('44444444-4444-4444-4444-444444444444', 0, '08:00', '16:00', false)

ON CONFLICT (veterinarian_id, day_of_week) DO UPDATE SET
  start_time = EXCLUDED.start_time,
  end_time = EXCLUDED.end_time,
  is_working = EXCLUDED.is_working;
