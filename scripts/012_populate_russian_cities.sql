-- Очистка и заполнение таблицы городов России
TRUNCATE TABLE cities RESTART IDENTITY CASCADE;

-- Вставка крупных российских городов с координатами
INSERT INTO cities (name, region, latitude, longitude) VALUES
-- Федеральные города
('Москва', 'Москва', 55.7558, 37.6176),
('Санкт-Петербург', 'Санкт-Петербург', 59.9311, 30.3609),
('Севастополь', 'Севастополь', 44.6054, 33.5221),

-- Центральный федеральный округ
('Воронеж', 'Воронежская область', 51.6720, 39.1843),
('Ярославль', 'Ярославская область', 57.6261, 39.8845),
('Рязань', 'Рязанская область', 54.6269, 39.6916),
('Тула', 'Тульская область', 54.1961, 37.6182),
('Липецк', 'Липецкая область', 52.6031, 39.5708),
('Курск', 'Курская область', 51.7373, 36.1873),
('Брянск', 'Брянская область', 53.2434, 34.3641),
('Белгород', 'Белгородская область', 50.5951, 36.5879),
('Орел', 'Орловская область', 52.9651, 36.0785),
('Калуга', 'Калужская область', 54.5293, 36.2754),
('Тамбов', 'Тамбовская область', 52.7214, 41.4520),
('Кострома', 'Костромская область', 57.7665, 40.9265),
('Иваново', 'Ивановская область', 56.9969, 40.9731),
('Владимир', 'Владимирская область', 56.1366, 40.3966),
('Смоленск', 'Смоленская область', 54.7818, 32.0401),
('Тверь', 'Тверская область', 56.8431, 35.9221),

-- Северо-Западный федеральный округ
('Архангельск', 'Архангельская область', 64.5401, 40.5433),
('Мурманск', 'Мурманская область', 68.9585, 33.0827),
('Вологда', 'Вологодская область', 59.2239, 39.8840),
('Череповец', 'Вологодская область', 59.1374, 37.9097),
('Петрозаводск', 'Республика Карелия', 61.7849, 34.3469),
('Сыктывкар', 'Республика Коми', 61.6681, 50.8372),
('Псков', 'Псковская область', 57.8136, 28.3496),
('Великий Новгород', 'Новгородская область', 58.5218, 31.2756),
('Калининград', 'Калининградская область', 54.7065, 20.5110),

-- Южный федеральный округ
('Ростов-на-Дону', 'Ростовская область', 47.2357, 39.7015),
('Краснодар', 'Краснодарский край', 45.0355, 38.9753),
('Сочи', 'Краснодарский край', 43.6028, 39.7342),
('Волгоград', 'Волгоградская область', 48.7080, 44.5133),
('Астрахань', 'Астраханская область', 46.3497, 48.0408),
('Новороссийск', 'Краснодарский край', 44.7230, 37.7682),
('Таганрог', 'Ростовская область', 47.2362, 38.8969),

-- Северо-Кавказский федеральный округ
('Махачкала', 'Республика Дагестан', 42.9849, 47.5047),
('Грозный', 'Чеченская Республика', 43.3181, 45.6986),
('Владикавказ', 'Республика Северная Осетия', 43.0370, 44.6830),
('Нальчик', 'Кабардино-Балкарская Республика', 43.4981, 43.6189),
('Черкесск', 'Карачаево-Черкесская Республика', 44.2234, 42.0579),
('Майкоп', 'Республика Адыгея', 44.6098, 40.1006),
('Ставрополь', 'Ставропольский край', 45.0428, 41.9734),
('Пятигорск', 'Ставропольский край', 44.0486, 43.0594),

-- Приволжский федеральный округ
('Нижний Новгород', 'Нижегородская область', 56.2965, 43.9361),
('Казань', 'Республика Татарстан', 55.8304, 49.0661),
('Самара', 'Самарская область', 53.2001, 50.1500),
('Уфа', 'Республика Башкортостан', 54.7388, 55.9721),
('Пермь', 'Пермский край', 58.0105, 56.2502),
('Саратов', 'Саратовская область', 51.5336, 46.0340),
('Волжский', 'Волгоградская область', 48.7854, 44.7759),
('Тольятти', 'Самарская область', 53.5303, 49.3461),
('Ижевск', 'Удмуртская Республика', 56.8431, 53.2045),
('Ульяновск', 'Ульяновская область', 54.3142, 48.4031),
('Чебоксары', 'Чувашская Республика', 56.1439, 47.2517),
('Киров', 'Кировская область', 58.6035, 49.6679),
('Йошкар-Ола', 'Республика Марий Эл', 56.6343, 47.8953),
('Саранск', 'Республика Мордовия', 54.1838, 45.1749),
('Пенза', 'Пензенская область', 53.2001, 45.0000),
('Оренбург', 'Оренбургская область', 51.7727, 55.0988),

-- Уральский федеральный округ
('Екатеринбург', 'Свердловская область', 56.8431, 60.6454),
('Челябинск', 'Челябинская область', 55.1644, 61.4368),
('Тюмень', 'Тюменская область', 57.1522, 65.5272),
('Магнитогорск', 'Челябинская область', 53.4069, 59.0496),
('Нижний Тагил', 'Свердловская область', 57.9197, 59.9650),
('Курган', 'Курганская область', 55.4500, 65.3333),
('Сургут', 'Ханты-Мансийский АО', 61.2500, 73.4167),
('Нижневартовск', 'Ханты-Мансийский АО', 60.9344, 76.5531),
('Ханты-Мансийск', 'Ханты-Мансийский АО', 61.0042, 69.0019),
('Салехард', 'Ямало-Ненецкий АО', 66.5297, 66.6130),

-- Сибирский федеральный округ
('Новосибирск', 'Новосибирская область', 55.0084, 82.9357),
('Омск', 'Омская область', 54.9885, 73.3242),
('Красноярск', 'Красноярский край', 56.0184, 92.8672),
('Барнаул', 'Алтайский край', 53.3606, 83.7636),
('Иркутск', 'Иркутская область', 52.2978, 104.2964),
('Кемерово', 'Кемеровская область', 55.3331, 86.0833),
('Новокузнецк', 'Кемеровская область', 53.7557, 87.1099),
('Томск', 'Томская область', 56.4977, 84.9744),
('Улан-Удэ', 'Республика Бурятия', 51.8344, 107.5847),
('Чита', 'Забайкальский край', 52.0307, 113.5006),
('Абакан', 'Республика Хакасия', 53.7154, 91.4297),
('Кызыл', 'Республика Тыва', 51.7191, 94.4237),
('Горно-Алтайск', 'Республика Алтай', 51.9581, 85.9603),

-- Дальневосточный федеральный округ
('Владивосток', 'Приморский край', 43.1056, 131.8735),
('Хабаровск', 'Хабаровский край', 48.4827, 135.0838),
('Благовещенск', 'Амурская область', 50.2945, 127.5405),
('Якутск', 'Республика Саха (Якутия)', 62.0355, 129.6755),
('Магадан', 'Магаданская область', 59.5684, 150.8048),
('Южно-Сахалинск', 'Сахалинская область', 46.9588, 142.7386),
('Петропавловск-Камчатский', 'Камчатский край', 53.0165, 158.6500),
('Анадырь', 'Чукотский АО', 64.7353, 177.5130),
('Биробиджан', 'Еврейская АО', 48.7936, 132.9211),

-- Дополнительные крупные города
('Набережные Челны', 'Республика Татарстан', 55.7435, 52.4078),
('Стерлитамак', 'Республика Башкортостан', 53.6241, 55.9504),
('Энгельс', 'Саратовская область', 51.4827, 46.1178),
('Балаково', 'Саратовская область', 52.0264, 47.8056),
('Рыбинск', 'Ярославская область', 58.0446, 38.8486),
('Северодвинск', 'Архангельская область', 64.5635, 39.8302),
('Армавир', 'Краснодарский край', 44.9892, 41.1234),
('Сызрань', 'Самарская область', 53.1585, 48.4681),
('Норильск', 'Красноярский край', 69.3558, 88.1893),
('Мурино', 'Ленинградская область', 60.0506, 30.4406),
('Подольск', 'Московская область', 55.4297, 37.5447),
('Химки', 'Московская область', 55.8970, 37.4296),
('Королёв', 'Московская область', 55.9226, 37.8251),
('Мытищи', 'Московская область', 55.9116, 37.7307),
('Люберцы', 'Московская область', 55.6758, 37.8975),
('Электросталь', 'Московская область', 55.7894, 38.4467),
('Коломна', 'Московская область', 55.0794, 38.7783),
('Одинцово', 'Московская область', 55.6758, 37.2609),
('Серпухов', 'Московская область', 54.9157, 37.4106);

-- Создание индексов для быстрого поиска
CREATE INDEX IF NOT EXISTS idx_cities_name ON cities(name);
CREATE INDEX IF NOT EXISTS idx_cities_region ON cities(region);
CREATE INDEX IF NOT EXISTS idx_cities_coordinates ON cities(latitude, longitude);

-- Обновление статистики
ANALYZE cities;
